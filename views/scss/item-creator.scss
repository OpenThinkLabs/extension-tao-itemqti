@import "inc/bootstrap";
@import "inc/main";
@import "inc/farbtastic";
@import "inc/preview";

// @todo this a temporary solution, see taoQtiItem/views/js/qtiCreator/editor/gridEditor/draggable.js, createDraggable()
span.dragging {
    opacity: 0.8 !important;
    z-index: 999999;
    font-size: 5rem;
    padding: 20px 80px;
    position: absolute;
    background: rgba($uiClickableDefaultBg, 1);
    -webkit-box-shadow: 1px 1px 6px 2px #777;
    box-shadow: 1px 1px 6px 2px #777;
}

%editHover {
    cursor: pointer;
    border: 1px solid whiten($info, .5);
}

%editActive {
    cursor: default;
    z-index: 9;
    border: 1px solid whiten($info, .2);
    -webkit-box-shadow: 1px 1px 3px 1px whiten($info, .2);
    box-shadow: 1px 1px 3px 1px whiten($info, .2);
}

%mini-tlb {
    display: none; //initially hidden
    position: absolute;
    top: 0;
    right: 0;
    padding: 0;
    background: whiten($uiClickableDefaultBg, .5);
    @include simple-border();
    margin-bottom: 5px;
    overflow: hidden;
    z-index: 5000;
    @include font-size(13, true);

    &:before, &:after {
        //display: block;
    }
    .tlb-button {
        min-width: 24px;
        height: 22px;
        //line-height: 26px;
        text-align: center;
        cursor: pointer;
        margin: 0 2px;
        display: inline-block;
        [class^="icon-"], [class*=" icon-"] {
            font-size: 14px !important;
        }
        &:hover {
            color: $uiClickableHoverBg !important;
        }
        &.active {
            color: $info !important;
        }
        .score {
            left: 0;
            min-width: 0;
            width: 35px !important;
            position: relative;
            top: 0;
            height: 18px;
            padding: 0px 4px
        }
        &[data-role="cke-launcher"] {
            display: none;
        }
    }
}

// the icon creator specific part
@import "inc/widgets";

.font-selector {
    optgroup {
        font-style: normal;
        line-height: 1.5;
        font-weight: normal;
        font-size: 1.4rem;
        color: $darkBrown;
        padding: 2px;
    }
    option {
        font-size: 1.2rem;
        color: #222
    }
}

#item-editor-widget-bar {
    display: none;
}

#item-editor-wrapper {
    margin: 0;
    position: relative;
    background-color: mix(#fff, $grey, 85%);

    .item-editor-item {

        [class*=" col-"], [class^="col-"] {
            padding: 3px; //not consistent with commonRenderer ! @todo : fix this
        }
    }
}

.item-editor-css-editor {
    select {
        min-width: 0 !important;
        width: auto !important
    }
}

// hide all sections on right sidebar
.sidebar-right-section-box {
    display: none;
}

@import "qtiCreator/_interaction-sidebar";

.item-editor-sidebar {
    //@todo reset to 0
    //opacity: 0;
    background: mix(#fff, $grey, 85%);
    position: absolute;
    z-index: 2000;
    top: 0;
    right: 0;
    .tool-group {
        h2 {
            @include font-size(14);
            border-top: 1px white solid;
            font-weight: normal;
            line-height: 30px;
            padding: 0 6px;
            letter-spacing: .06rem;
            clear: left;
            margin: 0 0 0 0;
            color: black();
            position: relative;
            background: mix(#fff, $websiteBorder, 70%);
            cursor: pointer;
            .icon-down {
                display: none;
            }
            .icon-up {
                display: block;
            }
            &.closed {
                .icon-down {
                    display: block;
                }
                .icon-up {
                    display: none;
                }
            }
            span {
                position: absolute;
                top: 9px;
                right: 9px;
            }
            &.toggler:after {
                float: right;
                top: 0;
            }
        }
        hr {
            margin: 6px 8px 4px 8px;
        }

        .panel {
            padding: 15px 5px 8px 5px;
            .panel {
                padding: 0;
                margin-bottom: 15px;
            }
            hr {
                margin-bottom: 15px;
            }
            h3 {
                padding: 0 0 12px 0;
                margin: 0;
                @include font-size(14);
                max-width: 450px;
                display: inline-block;
            }
            select, input[type="text"], textarea {
                width: 100%;
                &.has-icon {
                    width: 140px;
                    min-width: 140px;
                    max-width: 140px;
                }
            }

            select.short {
                width: auto;
                min-width: 100px;
            }
            .icon-help.tooltipstered {
                float: right;
            }
            &:last-child, .panel-row {
                margin-bottom: 7px
            }
            label {
                padding: 0;
                @include font-size(13);
                &.has-icon {
                    width: 140px;
                    min-width: 140px;
                    max-width: 140px;
                    display: inline-block
                }
            }
            input.score {
                width: 40px;
                min-width: 40px;
            }
            button.block {
                width: 100%;
                margin-top: 5px;
            }
            .feedbackRule-panel {
                .adder {
                    :before {
                        font-size: 1.4rem;
                    }
                }
            }

            &.sub-group {
                position: relative;
                padding-top: 0 !important;
                padding-bottom: 4px;
                .tool-list {
                    position: relative;
                    z-index: 4;
                }
                .sub-group-cover {
                    position: absolute;
                    left: 0;
                    top: -7px;
                    width: 96%;
                    height: 100%;
                    background-color: rgba(mix(#fff, $grey, 85%), 0.3) !important;
                    z-index: 2;
                    border: 1px $websiteBorder solid;
                    @include border-radius(3);
                    margin: 2%;
                    cursor: no-drop !important;
                    &.blocking {
                        z-index: 10;
                    }
                }

                .sub-group-cover:after, .sub-group-cover:before {
                    bottom: 100%;
                    left: 25%;
                    border: solid transparent;
                    content: " ";
                    height: 0;
                    width: 0;
                    position: absolute;
                    pointer-events: none;
                }

                .sub-group-cover:after {
                    border-color: transparent;
                    border-bottom-color: mix(#fff, $grey, 85%);
                    border-width: 8px;
                    margin-left: -8px;
                }
                
<<<<<<< .mine
            }
=======
                }
>>>>>>> .theirs
<<<<<<< .mine
        }
    }

    .inset {
        margin-left: 6px;
        margin-right: 6px;
    }
    width: ($sidebarWidth * 1px);
    &:first-child {
        right: auto;
        left: 0;
    }
    .tool-list {
        margin-top: -3px;
        @extend .clearfix;
        &:before {
            @extend .clearfix:before;
        }
        &:after {
            @extend .clearfix:after;
        }
        
        .reset-group {
            select {
                width: 140px;
                min-width: 140px;
                max-width: 140px;
            }
            .reset-button {
                position: relative;
                top: 6px;
                right: 3px;
                float:right;
                padding: 0;
                height: 20px;
                width: 20px;
                text-align: right;
                cursor: pointer;
                &:hover {
                    color: $uiClickableHoverBg;
                }
            }
        }
        .reset-button {
            position: relative;
            top: 6px;
            right: 3px;
            float: right;
            padding: 0;
            height: 20px;
            width: 20px;
            text-align: right;
            cursor: pointer;
            &:hover {
                color: $uiClickableHoverBg;
            }
        }
    }

    .item-editor-unit-input-box {
        position: relative;
        display: inline-block;
        input {
            padding-right: 28px;
        }
        .unit-indicator {
            position: absolute;
            right: 0px;
            top: 0px;
            display: block;
            width: 28px;
            line-height: 28px;
            height: 28px;
            text-align: center;
            color: mix(#fff, $textColor, 50%);
            @include border-radius();
        }
    }

    #item-editor-item-resizer {
        .reset-group {
            display: none;
        }
    }

    .cbr-right {
        width: 100%;
        span {
            &.icon-checkbox,
            &.icon-radio {
                float: right
            }
        }
    }
    .spinner {
        min-width: 100px;
        line-height: 22px;
        & ~ .tooltipstered {
            top: 6px;
        }
        &.short {
            padding-right: 10px;
        }
    }
    .incrementer-ctrl {
        top: -3px;
    }

    #item-editor-font-size-changer {
        padding-top: 1px;
        overflow: hidden;
        display: table;
        width: 140px;
        float: left;
        a {
            display: table-cell;
            padding: 0 10px;
            color: $textColor;
            text-decoration: none !important;
            width: 70px;
            line-height: 21px;
            text-align: left;
            &.icon-smaller {
                text-align: right;
            }
        }
        .icon-smaller {
            @include font-size(12);
        }
        .icon-larger {
            @include font-size(18);
        }
    }

    // css manager
    #style-sheet-toggler {
        .style-sheet-toggler {
            @include font-size(11);
            @include simple-border(#ccc);
            display: inline-block;
            width: 20px;
            height: 18px;
            padding: 2px 0 1px 3px;
            cursor: pointer !important;
            margin: 0 4px 0 2px;
            &.disabled {
                &:before {
                    @include icon('eye-slash');
                }
            }
        }
        .style-sheet-label-editor {
            display: none;
            width: 100px;
            min-width: 100px;
            padding: 0px 3px;
            @include font-size(13);
            position: relative;
            top: 1px;
        }
        .icon-download, .icon-bin {
            float: right;
            cursor: pointer;
            margin-left: 5px;
            position: relative;
            top: 2px;
        }
        .not-available, .not-available * {
            color: whiten($textColor, .5);
            cursor: default !important;
        }

        .file-label {
            display: inline-block;
            cursor: pointer;
            width: 100px;
            line-height: .9;
            position: relative;
            @include font-size(13);
            top: 2px;
            &:hover {
                color: $uiClickableHoverBg;
            }
        }
    }

    #stylesheet-uploader {
        width: 100%
    }

    #item-editor-color-picker {
        .color-trigger {
            width: 40px;
            display: inline-block;
            height: 18px;
            float: right;
            font-size: 9px;
            cursor: pointer;
            @include border-radius();
            @include simple-border();
        }
        .reset-button {
            @include font-size(13);
            top: 5px;
        }
        #color-picker-container {
            top: -235px;
        }
        .color-picker {
            margin-top: -5px
        }
    }

    .sidebar-popup-container-box {
        position: relative;
    }

    .sidebar-popup {
        background: mix(#fff, $grey, 85%);
        padding: 3px;
        position: absolute;
        right: 2px;
        -webkit-box-shadow: 0px 0px 10px 0px rgba(50, 50, 50, 0.75);
        -moz-box-shadow: 0px 0px 10px 0px rgba(50, 50, 50, 0.75);
        box-shadow: 0px 0px 10px 0px rgba(50, 50, 50, 0.75);
        display: none;
        z-index: 300;
        .closer {
            position: absolute;
            top: 5px;
            right: 2px;
        }
    }

    #math-editor-container {
        &.mathml {
            top: -270px;
            width: 357px;
            input {
                display: none;
            }
            textarea {
                width: 350px;
                max-width: none;
                height: 250px;
                font-family: $monospaceFont;
                display: block;
            }
        }
        &.latex {
            top: -90px;
            width: 427px;
            textarea {
                display: none;
            }
            input {
                width: 420px;
                max-width: none;
                font-family: $monospaceFont;
            }
        }
        z-index: 2000;
        .icon-grip-h {
            opacity: .5;
            font-size: 20px;
            position: absolute;
            top: 5px;
            left: 180px;
            color: $uiClickableActiveBg;
            cursor: move;
            &:hover {
                color: $uiClickableHoverBg;
            }
        }
        h3 {
            padding: 0 0 5px;
        }
    }

    .compass {
        position: relative;
        width: 100px;
        margin: auto;
        span {
            display: block;
            @include font-size(25);
            line-height: 1.1;
            width: 33%;
            background: $uiGeneralContentBg;
            text-align: center;
            cursor: pointer;
            border: 1px dotted #aaa;
            &:hover {
                background: $uiClickableHoverBg;
                color: $textHighlight
            }
            &.icon-up, &.icon-down {
                margin: auto;
            }
            &.icon-left {
                float: left;
            }
            &.icon-right {
                float: right;
            }
        }
    }
}

#item-editor-panel {
    margin: 0 180px;
    overflow: auto;
    padding: 0;
    border: 1px white solid;
    border-bottom: none;
    background-color: mix(white, $websiteBorder, 70%);
    background-image: url(data:image/gif;base64,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);
    background-position: center 250px;
    position: relative;
    min-height: 800px;
    &.has-item {
        background-image: none;
    }
    h1 {
        font-weight: 300;
        margin: 0;
    }
    .item-editor-drop-area {
        min-height: 300px;
        padding-bottom: 20px;
        margin-top: 20px;
    }
    .item-editor-row {
        min-height: 100px;
        overflow-x: hidden;
        overflow-y: visible;
    }
}

#item-editor-scroll-inner {
    padding: 20px 60px;
}

#item-editor-scroll-outer {
    overflow: auto;
}

.dummy-element {
    min-width: 50px;
    @include simple-border();
    background-color: #eee;
    font-style: italic;
    color: white;
    padding: 0;
    display: inline-block;
    line-height: 20px;
    cursor: default;
}

.widget-inline,
.qti-hottext,
.qti-gap,
.dummy-element,
.inline-text-wrapper {
    position: relative;
    display: inline-block;
    [class^="icon-"], [class*=" icon-"] {
        display: inline-block;
        text-align: center;
        width: 100%;
        position: relative;
        top: 2px;
        text-shadow: 1px 1px 0px #ccc;
    }
    & ~ span.mini-tlb[data-edit] {
        position: absolute !important;
        top: -2px !important;
        right: -32px !important;
        .tlb-button {
            margin: 0 !important;
            padding: 0 !important;
            height: 18px !important;
            width: 24px !important;
        }
    }
}

.item-editor-item {
    @include simple-border();
    -webkit-box-shadow: 0px 0px 8px mix(#fff, $darkBrown, 50%);
    -moz-box-shadow: 0px 0px 8px mix(#fff, $darkBrown, 50%);
    box-shadow: 0px 0px 8px mix(#fff, $darkBrown, 50%);
    [class*=" col-"], [class^="col-"] {
        position: relative;
    }

    /*hack to fix unwanted contenteditable behaviour in chrome : @see*/
    p, span, ol, ul {
        line-height: 1.4;
        font-size: 1.4rem;
    }

    .inserting {
        .widget-block, .widget-blockInteraction {
            border: 1px dashed #ddd;
        }
    }

    .hoverable {
        .widget-box {
            &.widget-inline {
                display: inline-block;
                &.hover {
                    @extend %editHover;
                }
                &.edit-active {
                    @extend %editActive;
                }
            }
            &.widget-block {
                display: block;
                &.hover {
                    @extend %editHover;
                }
                &.edit-active {
                    @extend %editActive;
                }
            }
            &.widget-rubricBlock {
                &.hover .qti-rubricBlock-body {
                    @extend %editHover;
                }
                &.edit-active .qti-rubricBlock-body {
                    @extend %editActive;
                }
            }
            &.widget-blockInteraction {
                &.hover {
                    @extend %editHover;
                }
                &.edit-active {
                    @extend %editActive;
                }
                &.edit-question {
                    th.qti-choice {
                        &.hover {
                            .inner-wrapper {
                                @extend %editHover;
                            }
                        }
                        &.edit-choice {
                            .inner-wrapper {
                                @extend %editActive;
                            }
                        }
                    }
                    .qti-choice:not(th) {
                        &.hover {
                            @extend %editHover;
                        }
                        &.edit-choice {
                            @extend %editActive;
                        }
                    }
                }
            }
        }
    }

    .widget-box {
        border: 1px solid transparent;
        position: relative;
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba($uiClickableDefaultBg, .5);
            .message {
                background: rgba($uiClickableDefaultBg, .6);
                margin: auto;
                position: absolute;
                top: 40%;
                left: 0;
                bottom: 0;
                right: 0;
                display: table;
                min-height: 50px;
                min-width: 50px;
            }
        }
        .tlb-bar {
            z-index: 99;
        }
        .tlb-wrapper {
            position: absolute;
            width: 100%;
            top: -24px;
            display: block;
            cursor: default;
            color: white;
            background: whiten($info, .2);
            z-index: 999;

            -webkit-box-shadow: 0 0 0 1px whiten($info, .2);
            box-shadow: 0 0 0 1px whiten($info, .2);

            .tlb-title {
                margin-top: 1px;
                line-height: 1.4;
                @include font-size(14, true);
            }

            .tlb {
                .state-switcher {
                    float: right;
                    padding: 0;
                    @include font-size(14, true);
                }
                & > div {
                    margin: 1px 0 2px;
                }
                .state-switcher {
                    .selected {
                        font-weight: bold;
                    }
                    .link {
                        &:hover {
                            cursor: pointer;
                            text-decoration: underline;
                        }
                    }
                    margin-right: 15px
                }
                .tlb-button {
                    padding: 3px 6px 0px;
                    opacity: 0.8;
                    @include font-size(13);
                    &:hover {
                        cursor: pointer;
                        font-weight: bold;
                        opacity: 1;
                    }
                }
            }
        }

        > .common-tlb {
            overflow: hidden;
            margin: auto;
            width: 20px;
            display: none; //initially hidden
            position: absolute;
            top: 10px;
            left: 0;
            right: 0;
            padding: 0;
            background: rgba($uiClickableDefaultBg, .5);
        }
        &.hover > .common-tlb {
            display: inline-block;
            cursor: move;
        }
        .float-space-top.cke_nose {
            display: block;
            right: 5px;
            bottom: -6px;
        }
        .float-space-bottom.cke_nose {
            display: block;
            top: -6px;
        }
        &.invalid {
            border: 1px solid $error !important;
        }
        &.widget-blockInteraction {
            .qti-choice {
                &:not(th) {
                    border: 1px solid transparent;
                }
                .inner-wrapper {
                    min-width: 1rem;
                    border: 1px solid transparent;
                }
            }
            .qti-interaction {
                .qti-prompt {
                    min-height: 3rem;
                }
                .add-option {
                    border: 1px mix(#fff, $info, 20%) dashed !important;
                    list-style-type: none;
                    position: relative;
                    cursor: pointer !important;
                    border-radius: 3px;
                    background-color: mix(#fff, $info, 90%);
                    [class^="icon-"], [class*=" icon-"] {
                        @include font-size(16);
                        position: relative;
                        top: 1px;
                        left: 2px;
                        color: $info;
                        padding-right: 5px
                    }
                    & > div {
                        display: table;
                        width: 100%;
                        height: 100%;
                        [class^="icon-"], [class*=" icon-"] {
                            display: table-cell;
                            @include font-size(60);
                            position: static !important;
                            vertical-align: middle;
                            width: 100%;
                            height: 100%;
                            text-align: center;
                            top: 0;
                            left: auto;
                            padding: 0;
                        }
                    }
                    &:hover {
                        opacity: .8
                    }
                }
            }
        }
        .widget-ok {
            display: none;
            float: right;
            margin: 5px;
        }
    }
    .widget-box-placeholder {
        display: inline-block;
        margin: 0;
        min-width: 150px;
        position: relative;
        vertical-align: middle;
        background-color: #eee;
    }
    [data-edit] {
        display: none;
        //fix issue #2678
        /*            ::selection {
            background: transparent;
            }
            ::-moz-selection {
            background: transparent;
            text-shadow: none;
        }*/
        & > [class*=" col-"], [class^="col-"] {
            margin-bottom: 0 !important;
        }
        &.mini-tlb {
            @extend %mini-tlb;
        }
        &.mini-tlb-label {
            position: absolute;
            top: -30px;
            left: -10px;
            background: $uiClickableDefaultBg;
            label {
                color: $info;
                cursor: default;
                @include font-size(12);
                padding: 2px 4px;
                margin: 0;
            }
        }
    }

    .inner-wrapper {
        position: relative;
    }

    @import "qtiCreator/_choice";
    @import "qtiCreator/_order";
    @import "qtiCreator/_associate";
    @import "qtiCreator/_match";
    @import "qtiCreator/_inline-choice";
    @import "qtiCreator/_text-entry";
    @import "qtiCreator/_extended-text";
    @import "qtiCreator/_gap-match";
    @import "qtiCreator/_hottext";
    @import "qtiCreator/_rubric-block";
    @import "qtiCreator/_math";
    @import "qtiCreator/_mapping-editor";
    @import "qtiCreator/_graphic";
    @import "qtiCreator/_graphic-gap";
    @import "qtiCreator/_grid-editor";

}

/*style for modal feedback*/
@import "qtiCreator/_modal-feedback";

/*style for html editable area highlight*/
[data-html-editable] {
    border: 1px solid transparent;
    outline: 1px solid transparent !important;
    min-height: 20px;
    [html-editable-shield] {
        padding: 0;
        min-width: 0;
        margin: 0;
    }
}

.edit-question .qti-interaction, .qti-modalFeedback.edit-active {
    [data-html-editable-container]:hover {
        [data-html-editable][contenteditable=true] {
            border: 1px dotted $info;
        }
    }
    [data-html-editable] {
        margin-right: 0px; //@todo value to be determined
        &[contenteditable=true]:focus {
            border: 1px dotted $info;
        }
    }

.widget-rubricBlock, .widget-textBlock {
    [data-html-editable] {
        min-height: 3rem;
    }
}

.cke-cover-up {
    padding: 0 !important;
    margin: 0 !important;
    position: absolute !important;
    cursor: pointer !important;
    border: none !important;
    background: black !important;
    opacity: .05 !important;
    display: inline-block !important;
}

.cke-qti-wrapper {
    position: relative !important;
    display: inline-block !important;
    padding: 0 !important;
    margin: 0 !important;
}

@media print {

    html body #tabs {
        margin: 0 !important;
        min-height: 0 !important;
        width: auto !important;
        padding: 0 !important;
        border: none !important;
    }

    html body .item-no-print {
        display: none !important;
    }

    html body #item-editor-panel {
        margin: 0 !important;
        padding: 0 !important;
    }

    html body .item-editor-row {
        border: none !important;
        background: none !important;
    }
    html body .qti-item {
        border-radius: 0;
        box-shadow: none;
        margin: 0 !important;
        border: none !important;
        width: 100% !important;
        [class*="col-"] {
            border-color: transparent !important;
        }
    }

    html body [data-edit], html body .mini-tlb {
        display: none !important;
    }
    html body [class^="btn-"],
    html body [class*=" btn-"],
    html body button,
    html body input[type="submit"],
    html body input[type="reset"] {
        color: #222 !important;
        border: 1px solid #dddddd !important;
        border-radius: 2px !important;
        -webkit-border-radius: 2px !important;
    }
}
